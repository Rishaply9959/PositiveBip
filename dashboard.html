<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #f8f8f8;
        }
        .video-display {
            display: flex;
            flex-wrap: wrap;
        }
        .video-container {
            margin: 10px;
            position: relative;
        }
        video {
            width: 300px;
            height: auto;
        }
        .remove-btn {
            display: block;
            margin-top: 5px;
            padding: 5px;
            background-color: red;
            color: white;
            text-align: center;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div class="header">
    <button onclick="window.location.href='upload.html'">Create</button>
    <h1>Video Dashboard</h1>
</div>

<div class="video-display" id="videoDisplay">
    <!-- Uploaded videos will be displayed here -->
</div>

<script>
    function loadVideos() {
        const videoDisplay = document.getElementById('videoDisplay');
        const videos = JSON.parse(localStorage.getItem('videos')) || [];
        const userId = localStorage.getItem('userId');

        videos.forEach((videoData, index) => {
            const videoContainer = document.createElement('div');
            videoContainer.classList.add('video-container');
            
            const videoElement = document.createElement('video');
            videoElement.setAttribute('controls', 'controls');
            videoElement.src = videoData.url;
            
            videoContainer.appendChild(videoElement);

            if (videoData.userId === userId) {
                const removeBtn = document.createElement('div');
                removeBtn.classList.add('remove-btn');
                removeBtn.innerText = 'Remove';
                removeBtn.onclick = () => removeVideo(index);
                videoContainer.appendChild(removeBtn);
            }
            
            videoDisplay.appendChild(videoContainer);
        });
    }

    function removeVideo(index) {
        let videos = JSON.parse(localStorage.getItem('videos')) || [];
        videos.splice(index, 1);
        localStorage.setItem('videos', JSON.stringify(videos));
        window.location.reload();
    }

    window.onload = loadVideos;
</script>

</body>
</html>
